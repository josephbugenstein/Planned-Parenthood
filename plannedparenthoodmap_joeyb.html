<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
        <title>Planned Parenthood Map</title>
    <style>
    html, body, #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
    }
    </style>
        <link rel="stylesheet" href="https://js.arcgis.com/4.17/esri/css/main.css">
        <script src="https://js.arcgis.com/4.17/"></script>
        <script>
        require([
            "esri/config",
            "esri/core/urlUtils",
            "esri/layers/VectorTileLayer",
            "esri/Map",
            "esri/Basemap",
            "esri/views/MapView",
            "esri/layers/FeatureLayer",
            "esri/Graphic",
            "esri/symbols/SimpleFillSymbol",
            "esri/renderers/SimpleRenderer",
            "esri/widgets/Legend",
            "esri/widgets/LayerList",
            "dojo/domReady!"
        ], function(esriConfig, urlUtils, VectorTileLayer, Map, Basemap, MapView, FeatureLayer, Graphic, SimpleFillSymbol, SimpleRenderer, Legend, LayerList)
               {
    
            var mymap = new Map();
         
            var myview = new MapView({
                map: mymap,
                container: "viewDiv",
                zoom: 6,
                scale: 2350000,
                center: [-82.8979, 40.1328]
            });
            
              var mybasemap = new VectorTileLayer ({
                url: "https://arts-sciences.maps.arcgis.com/sharing/rest/content/items/84f0d301e84c447caf8b1164d33f9b4b/resources/styles/root.json?f=pjson&token=uRAiNxcJY7QF3ATbqtC77HNrUkEYWyDOubRyrkJltWpB6slWQ8Ail6WCn2eKpdiArFxvioUPZ_uTaWZQ3nU1o2Zr8Ac203RgmT5gVjb1evgfUASB8qKCvOzPVCkZA1dhGh1EKjJePziNbDYJb0MJ94TGcnRmfR5xOqUM0M5vqFdgDZQzL3GQsGGhxTRs_NX1kd9iMcmMOP_zuHP1NKbUVEg2wz9CJ0Bua0achs7OOKU"
            });
            mymap.add(mybasemap);
            
            //var mymap = new Map ({//basic gray map centered around ohio
                //basemap: mybasemap
            //});
            
            var cntSym = new SimpleFillSymbol ({ //has to be written before the counties layer
                color: "#ffece6",
                style: "solid",
                width: 2,
                outline: {
                    style: "dashed",
                    color: "black"
                }
            });
            var cntRenderer = new SimpleRenderer ({
                symbol: cntSym
            });
            
            var stSym = new SimpleFillSymbol({
                style: "solid",
                width: 2,
                outline: {
                    style: "solid",
                    color: "black"
                }
            });
            
            var stRenderer = new SimpleRenderer({
                symbol: stSym
            });
            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            var pt = {
            type: "point", //creates the point at specific coordinates
            longitude: -81.534850,
            latitude: 41.083890
        };

        
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Akron Health Center",
            City: "Akron",
            Country: "United States"
        };
        var ptGraphic = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphic);
            
        var pt = {
            type: "point",
            longitude: -82.054690,
            latitude: 39.334780
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Athens Health Center",
            City: "Athens",
            Country: "United States"
        };
        var ptGraphicB = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicB);
            
        var pt = {
            type: "point",
            longitude: -81.499710,
            latitude: 41.409110
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Bedford Heights Surgery Center",
            City: "Bedford Heights",
            Country: "United States"
        };
        var ptGraphicC = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicC);
            
        var pt = {
            type: "point",
            longitude: -81.499710,
            latitude: 41.409120
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Bedford Heights Health Center",
            City: "Bedford Heights",
            Country: "United States"
        };
        var ptGraphicD = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicD);
            
        var pt = {
            type: "point",
            longitude: -81.385670,
            latitude: 40.827520
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Canton Health Center",
            City: "Canton",
            Country: "United States"
        };
        var ptGraphicE = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicE);
            
        var pt = {
            type: "point",
            longitude: -84.508236,
            latitude: 39.123713
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Cincinnati Surgical Center",
            City: "Cincinnati",
            Country: "United States"
        };
        var ptGraphicF = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicF);
            
        var pt = {
            type: "point",
            longitude: -84.508136,
            latitude: 39.123713
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Mt Auburn Health Center",
            City: "Cincinnati",
            Country: "United States"
        };
        var ptGraphicG = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicG);
        
        var pt = {
            type: "point",
            longitude: -81.632450 ,
            latitude: 41.504843 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Cleveland Health Center",
            City: "Cleveland",
            Country: "United States"
        };
        var ptGraphicH = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicH);
        
         var pt = {
            type: "point",
            longitude: -81.696825,
            latitude: 41.419800 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Old Brooklyn Health Center",
            City: "Cleveland",
            Country: "United States"
        };
        var ptGraphicI = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicI);
            
        var pt = {
            type: "point",
            longitude: -82.911282,
            latitude: 39.956196 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "East Columbus Surgical Center",
            City: "Columbus",
            Country: "United States"
        };
        var ptGraphicJ = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicJ);
            
        var pt = {
            type: "point",
            longitude: -83.00782,
            latitude: 40.00212 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "North Columbus Health Center",
            City: "Columbus",
            Country: "United States"
        };
        var ptGraphicK = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicK);
            
        var pt = {
            type: "point",
            longitude: -83.04013,
            latitude: 39.95671 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Franklinton Health Center",
            City: "Columbus",
            Country: "United States"
        };
        var ptGraphicL = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicL);
            
        var pt = {
            type: "point",
            longitude: -84.19606,
            latitude: 39.76266 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Dayton Health Center",
            City: "Dayton",
            Country: "United States"
        };
        var ptGraphicM = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicM);
            
        var pt = {
            type: "point",
            longitude: -84.56568,
            latitude: 39.39842 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Hamilton Health Center",
            City: "Hamilton",
            Country: "United States"
        };
        var ptGraphicN = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicN);
            
        var pt = {
            type: "point",
            longitude: -81.35736,
            latitude: 41.15346 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Kent Health Center",
            City: "Kent",
            Country: "United States"
        };
        var ptGraphicO = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicO);
            
        var pt = {
            type: "point",
            longitude: -81.85091,
            latitude: 41.46273 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Rocky River Health Center",
            City: "Rocky River",
            Country: "United States"
        };
        var ptGraphicP = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicP);
            
        var pt = {
            type: "point",
            longitude: -82.52997,
            latitude: 40.75917 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Mansfield Health Center",
            City: "Mansfield",
            Country: "United States"
        };
        var ptGraphicQ = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicQ);
            
         var pt = {
            type: "point",
            longitude: -83.83727,
            latitude: 39.93822 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Springfield Health Center",
            City: "Springfield",
            Country: "United States"
        };
        var ptGraphicR = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicR);
            
        var pt = {
            type: "point",
            longitude: -83.54462,
            latitude: 41.65384 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Toledo Health Center",
            City: "Toledo",
            Country: "United States"
        };
        var ptGraphicS = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicS);
            
         var pt = {
            type: "point",
            longitude: -80.81878,
            latitude: 41.24047 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Warren Health Center",
            City: "Warren",
            Country: "United States"
        };
        var ptGraphicT = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicT);
            
        var pt = {
            type: "point",
            longitude: -80.65886,
            latitude: 41.06066 
        };
            
        var markerSymbol = {
            type: "simple-marker", //creates circle
            color: [226,119,40],
            style: "circle",
            size: 12
        };
            
        var ptAtt = {
            Name: "Youngstown Health Center",
            City: "Youngstown",
            Country: "United States"
        };
        var ptGraphicU = new Graphic({
            geometry: pt,
            symbol: markerSymbol,
            attributes: ptAtt,
            popupTemplate:{
                title: "{Name}",
                content: [{
                    type:"fields",
                    fieldInfos: [{
                    fieldName: "Name"
                },{
                    fieldName:"City"
                },{
                    fieldName:"Country"
                }]
            }]
        }
        });
        myview.graphics.add(ptGraphicU);
            
            
        /* this comment serves as a separation of the code showing the planned parenthood points and the feature layers//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            
            ///////////////////////////////////////////////
            
            
            //////
            //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            
            ////////////////
            
            ////////////////////////////////
            */
          var ethnicity = new FeatureLayer ({
            portalItem: {
                id: "312629944505432ab79f2d3c7fd10479"
            }
        });
        mymap.add(ethnicity);
            
            
            function createSymbol(color) {
                return {
                    type: "simple-fill",
                    color: color,
                    outline: {
                        width: 0.5,
                        color: [255, 255, 255, 0.4]
                    },
                    style: "solid"
                };
            }
        var renderer = {
            type: "class-breaks",
            field: "POP100",
            normalizationType: "percent-of-total",
            normalizationTotal: 11536504,
            classBreakInfos: [{
                minValue: 0,
                maxValue: 0.610237,
                symbol: createSymbol("#fef0d9"),
                label: "0 - 0.610237%"
            }, {
                minValue: 0.610238,
                maxValue: 1.2669,
                symbol: createSymbol ("#fdcc8a"),
                label: "0.610237 - 1.2669%"
            }, {
                minValue: 1.2670,
                maxValue: 2.612195,
                symbol: createSymbol("#fc8d59"),
                label: "1.2669 - 2.612195%"
            }, {
                minValue: 2.612196,
                maxValue: 6.955088,
                symbol: createSymbol("#e34a33"),
                label: "2.612195 - 6.955088%"
            }, {
                minValue: 6.955089,
                maxValue: 11.096273,
                symbol: createSymbol("#b30000"),
                label: "6.955088 - 11.096273%"
            }]
        };
        
        var counties2 = new FeatureLayer({
            url: "https://tigerweb.geo.census.gov/arcgis/rest/services/Census2010/State_County/MapServer/9",
            definitionExpression: "STATE = 39",
            renderer: renderer
        });
        mymap.add(counties2);
            
        var roadsFiveMScale = new FeatureLayer ({
            url: "https://tigerweb.geo.census.gov/arcgis/rest/services/TIGERweb/Transportation/MapServer/0",
            //definitionExpression: "STATE = 39",
        });
        mymap.add(roadsFiveMScale)

        
        var roadsPrimary = new FeatureLayer ({
            url: "https://tigerweb.geo.census.gov/arcgis/rest/services/TIGERweb/Transportation/MapServer/1",
            //definitionExpression: "STATE = 39"
        });
        mymap.add(roadsPrimary)
            
        var counties = new FeatureLayer ({
            url: "https://tigerweb.geo.census.gov/arcgis/rest/services/TIGERweb/State_County/MapServer/13",
            definitionExpression: "STATE = 39",
            renderer: cntRenderer,
            opacity: 0.2
        });
        mymap.add(counties)
            
        var states = new FeatureLayer ({
            url: "https://tigerweb.geo.census.gov/arcgis/rest/services/Census2010/State_County/MapServer/12",
            renderer: stRenderer,
            opacity: 0.5
        });
        mymap.add(states)
            

            
            
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        /* map legend goes underneath here; featureLayers listed above */ 
        var myLegend = new Legend ({
            view: myview,
            layerInfos: [{
                layer: ethnicity,
                title: "Ethnicity"
            }, {
                layer: roadsFiveMScale,
                title: "Roads 5m scale"
            }, {
                layer: roadsPrimary,
                title: "Roads Primary"
            }, {
                layer: counties2,
                title: "County population/total"
            }]
        });
            myview.ui.add(myLegend, "bottom-left");
            
            myview.when(function(){
                var layerslisted = new LayerList({
                    view: myview
                });
                myview.ui.add(layerslisted, {position:"bottom-right"});
            });
        });
        </script>
    </head>
<body>
<div id="viewDiv"></div>
</body>
</html>
